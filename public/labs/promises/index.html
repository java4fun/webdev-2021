<!DOCTYPE html>
<html>

<head>
    <title>Test Page</title>
    <meta charset="utf8" />
    <link href="../core.css" rel="stylesheet" type="text/css" />
    <link href="/vendor/semantic-ui/semantic.css" rel="stylesheet" type="text/css" />

    <script type="module">
        import delayedFn, { delayedFnWithPromises } from './index.js';

        // this is just a test function to pass in to the delayed functions (you can also write your own)
        function tester() {
            console.log('Test');
            return 5;
        }

        // Exercise 2:
        // Update the following code so that it supports the new delayedFnWithPromises that 
        // returns a promise instead
        //
        // @todo - implement exercise 2
        delayedFn(tester, 1000, (result) => {
            console.log("First time, I got:", result);
            delayedFn(tester, 1000, (result) => {
                console.log("Second time, I got:", result);
                delayedFn(tester, 1000, (result) => {
                    console.log("Third time, I got:", result);
                });
            });
        }, (error) => {
            console.log('Something went wrong', error);
        })

        // Exercise 3:
        // Try out Promise.all
        // You want to execute three, delayed functions, in parallel
        // Once they are all complete, you want to execute a fourth delayed function.
        //
        // fn1, fn2, fn3
        // then fn4
        //
        // @todo - implement exercise 3

        // just so you can test it out in your console, if you wish
        window.delayedFn = delayedFn;
        window.delayedFnWithPromises = delayedFnWithPromises;
    </script>

</head>

<body class="ui container">
    <div id="container">
        <h1 class="foo ui dividing header">Test page</h1>
    </div>
</body>

</html>